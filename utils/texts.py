# Simple localization dictionary
TEXTS = {
    'en': {
        'start_welcome': "Welcome to Mollyy Posting Bot! ðŸš€\nSelect an option from the menu below.",
        'channels_list': "Here are your connected channels:",
        'add_channel_prompt': "Please forward a message from the channel you want to add.\nMake sure I am an admin there first!",
        'channel_added': "âœ… Channel '{title}' added successfully!",
        'channel_exists': "Channel already added!",
        'not_admin': "I am not an admin in that channel. Please promote me and try again.",
        'select_channel': "Select a channel to post to:",
        'no_channels': "No channels connected. Please add a channel first.",
        'send_content': "âœ… Channel selected.\n\nNow send me the content for the post.\n(Text, Photo, Video, Document, or Album)",
        'content_received': "Content received!",
        'unsupported_type': "Unsupported content type.",
        'send_btn_label': "Send the **Label** for the button:",
        'send_btn_url': "Now send the **URL** (link):",
        'send_alert_text': "Now send the text for the **Alert**:",
        'send_webapp_url': "Now send the **WebApp URL**:",
        'btn_added': "âœ… Button added.",
        'post_published': "âœ… Published successfully!",
        'post_scheduled': "âœ… Post scheduled for {date}!",
        'schedule_prompt': "Enter date and time for publication.\nFormat: `DD.MM.YYYY HH:MM` (e.g. 31.12.2025 23:59)",
        'invalid_date': "Invalid format. Please use `DD.MM.YYYY HH:MM`",
        'btn_translate_prompt': "Enter language code (e.g. 'en' for English, 'es' for Spanish) or just 'en':",
        'translation_added': "âœ… Translation added.",
        'no_text_translate': "No text found to translate!",
        'settings_menu': "âš™ï¸ **Admin Settings**\n\nChoose an option:",
        'edit_denied_text': "Please send the new text for non-admin users:",
        'denied_updated': "âœ… 'Access Denied' text updated!",
        'no_scheduled': "No scheduled posts found.",
        'language_selected': "âœ… Language switched to English.",
        'main_menu_create': "ðŸ“ Create Post",
        'main_menu_channels': "ðŸ“¢ Channels",
        'main_menu_settings': "âš™ï¸ Settings",
    },
    'ru': {
        'start_welcome': "Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Mollyy Posting Bot! ðŸš€\nÐ’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¾Ð¿Ñ†Ð¸ÑŽ Ð² Ð¼ÐµÐ½ÑŽ Ð½Ð¸Ð¶Ðµ.",
        'channels_list': "Ð’Ð¾Ñ‚ Ð²Ð°ÑˆÐ¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ‹Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹:",
        'add_channel_prompt': "ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿ÐµÑ€ÐµÑˆÐ»Ð¸Ñ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¸Ð· ÐºÐ°Ð½Ð°Ð»Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ.\nÐ£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ñ Ñ‚Ð°Ð¼ Ð°Ð´Ð¼Ð¸Ð½!",
        'channel_added': "âœ… ÐšÐ°Ð½Ð°Ð» '{title}' ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½!",
        'channel_exists': "ÐšÐ°Ð½Ð°Ð» ÑƒÐ¶Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½!",
        'not_admin': "Ð¯ Ð½Ðµ Ð°Ð´Ð¼Ð¸Ð½ Ð² ÑÑ‚Ð¾Ð¼ ÐºÐ°Ð½Ð°Ð»Ðµ. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð½Ð°Ð·Ð½Ð°Ñ‡ÑŒÑ‚Ðµ Ð¼ÐµÐ½Ñ Ð¸ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.",
        'select_channel': "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÐºÐ°Ð½Ð°Ð» Ð´Ð»Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸:",
        'no_channels': "ÐÐµÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ‹Ñ… ÐºÐ°Ð½Ð°Ð»Ð¾Ð². Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ°Ð½Ð°Ð».",
        'send_content': "âœ… ÐšÐ°Ð½Ð°Ð» Ð²Ñ‹Ð±Ñ€Ð°Ð½.\n\nÐ¢ÐµÐ¿ÐµÑ€ÑŒ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð´Ð»Ñ Ð¿Ð¾ÑÑ‚Ð°.\n(Ð¢ÐµÐºÑÑ‚, Ð¤Ð¾Ñ‚Ð¾, Ð’Ð¸Ð´ÐµÐ¾, Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð¸Ð»Ð¸ ÐÐ»ÑŒÐ±Ð¾Ð¼)",
        'content_received': "ÐšÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½!",
        'unsupported_type': "ÐÐµÐ¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ð¹ Ñ‚Ð¸Ð¿ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°.",
        'send_btn_label': "ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ **ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ** ÐºÐ½Ð¾Ð¿ÐºÐ¸:",
        'send_btn_url': "Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ **URL** (ÑÑÑ‹Ð»ÐºÑƒ):",
        'send_alert_text': "Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ñ‚ÐµÐºÑÑ‚ Ð´Ð»Ñ **Alert** (Ð²ÑÐ¿Ð»Ñ‹Ð²Ð°ÑŽÑ‰ÐµÐ³Ð¾ Ð¾ÐºÐ½Ð°):",
        'send_webapp_url': "Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ **WebApp URL**:",
        'btn_added': "âœ… ÐšÐ½Ð¾Ð¿ÐºÐ° Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð°.",
        'post_published': "âœ… Ð£ÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½Ð¾!",
        'post_scheduled': "âœ… ÐŸÐ¾ÑÑ‚ Ð¾Ñ‚Ð»Ð¾Ð¶ÐµÐ½ Ð½Ð° {date}!",
        'schedule_prompt': "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´Ð°Ñ‚Ñƒ Ð¸ Ð²Ñ€ÐµÐ¼Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸.\nÐ¤Ð¾Ñ€Ð¼Ð°Ñ‚: `DD.MM.YYYY HH:MM` (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ 31.12.2025 23:59)",
        'invalid_date': "ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `DD.MM.YYYY HH:MM`",
        'btn_translate_prompt': "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð´ ÑÐ·Ñ‹ÐºÐ° (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ 'en' Ð´Ð»Ñ Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð³Ð¾) Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ 'en':",
        'translation_added': "âœ… ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½.",
        'no_text_translate': "Ð¢ÐµÐºÑÑ‚ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½!",
        'settings_menu': "âš™ï¸ **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÐÐ´Ð¼Ð¸Ð½Ð°**\n\nÐ’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¾Ð¿Ñ†Ð¸ÑŽ:",
        'edit_denied_text': "ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð±ÐµÐ· Ð¿Ñ€Ð°Ð² Ð°Ð´Ð¼Ð¸Ð½Ð°:",
        'denied_updated': "âœ… Ð¢ÐµÐºÑÑ‚ 'Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½' Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½!",
        'no_scheduled': "ÐÐµÑ‚ Ð·Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾ÑÑ‚Ð¾Ð².",
        'language_selected': "âœ… Ð¯Ð·Ñ‹Ðº Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½ Ð½Ð° Ð ÑƒÑÑÐºÐ¸Ð¹.",
        'main_menu_create': "ðŸ“ Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ð¾ÑÑ‚",
        'main_menu_channels': "ðŸ“¢ ÐšÐ°Ð½Ð°Ð»Ñ‹",
        'main_menu_settings': "âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",
    }
}

async def get_text(key: str, lang: str = 'ru', **kwargs) -> str:
    # Fallback to English if key missing in lang, or ru if totally missing
    lang_dict = TEXTS.get(lang, TEXTS['ru'])
    text = lang_dict.get(key, TEXTS['en'].get(key, key))
    return text.format(**kwargs)